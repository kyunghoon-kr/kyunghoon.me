---
title: "[Typescript] 타입 검사"
date: "2021-05-03T21:33:00.000Z"
description: "타입스크립트 퀵스타트 도서로부터 점진적 타입 검사에 대해 공부한 내용을 정리합니다."
tag: "typescript"
thumbnail: "main-thumbnail.png"
---

# ✔ 점진적 타입 검사

언어에 따라 수행하는 타입 검사의 종류는 `정적 타입 검사`와 `동적 타입 검사`로 나뉜다. 정적 타입 검사 언어는 C, C++, Java 등 변수를 만들 때 자료형을 지정해줘야 하고 그 자료형은 고정되는 특징이 있다.  
동적 타입 검사 언어는 실행 시간에 타입 검사를 수행하며 대표적으로 자바스크립트가 있다.

타입스크립트는 정적 타입 언어처럼 보일 수 있지만 정확히는 `점진적 타입 검사`를 수행하는 언어이다. 이게 무슨 뜻일까 찾아보니, 타입스크립트의 설계자 아네르스 하일스베르는 MS Build 2017 발표에서 다음과 같이 말했다고 한다.

> 자바스크립트에 타입시스템이 없는 것은 아닙니다. 단지 타입시스템을 공식화한 방법이 없는 것 뿐입니다.

이 말에 따르면 `자바스크립트에는 타입이 없어요`라는 말은 부적절하다. 타입이 존재하지만 활용할 방법이 없는 것이다. 그러한 배경에서 타입스크립트가 탄생했다고 볼 수 있다.

점진적 타입 검사는 컴파일 시간에 타입 검사를 수행하면서 필요에 따라 타입 선언의 생략을 허용한다. 타입스크립트는 컴파일 시간에 타입 검사를 생략하면 암시적 형변환이 일어난다. 자체적으로 타입을 판단한다는 뜻이다.

---

다음 코드를 보자.

```typescript
function add(a) {
  return a + 10;
}
add(1); // return 11
```

매개변수에 타입을 선언하지 않았지만 타입스크립트 컴파일러가 a를 오류로 처리하지 않는다. 타입스크립트는 결국 컴파일되면서 자바스크립트로 변환되기 때문에 변환된 자바스크립트는 *암시적 형변환에 의하여 동적으로 타입이 생성*되어 오류 없이 실행된다. C, Java와 같은 언어에서 자료형을 생략하고 변수를 선언하면 컴파일 단계에서부터 오류가 발생하는 것과 비교해보면 확연한 차이가 있다.

타입스크립트의 any 타입은 점진적 타입 검사를 설명할 때 가장 적절하다. any는 모든 타입의 최상위 타입이며 동적 타입과 정적 타입의 경계선에 있다. any는 어떤 타입의 변수도 받아들이면서 심지어는 타입이 없는 변수도 받아들이기 때문에 자바스크립트 코드에서 타입스크립트로 마이그레이션할때 점진적으로 사용할 수 있다. <s>물론 Anyscript가 되지 않도록 해야겠지만</s>

---

# 🧐 그렇다면 자바스크립트의 타입과 아예 차이가 없을까?

자바스크립트는 동적 타입 검사(동적 타이핑)을 통해 타입을 추론한다.

```javascript
var v = 100; // number
var v = "hello"; // string
var v = false; // boolean
```

이처럼 값을 변수에 할당할 때 타입이 정해지는 것을 동적 타이핑이라고 한다. 타입을 따로 표시하지 않으면 컴파일 단계에서 암시적 형변환이 일어나는 타입스크립트와 달리 자바스크립트는 타입을 강제할 수가 없고 값을 할당할 때 타입이 추론된다. 이처럼 타입 추론 방식이 아예 다르다. string으로 동적 타이핑이 되었다가 다시 bool 형태로 값이 초기화되어도 잡아내지 못한다는 뜻이다.

---

# 📚 레퍼런스

- [타입스크립트에서 동적/정적 타입 사용하기](https://webactually.com/2021/02/23/%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EB%8F%99%EC%A0%81%C2%B7%EC%A0%95%EC%A0%81-%ED%83%80%EC%9E%85-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/)

- (루비페이퍼) Typescript 퀵스타트
