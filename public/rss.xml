<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Kyunghoon.me]]></title><description><![CDATA[경험에 기반한 성장과정을 담은 기술 블로그를 꿈꿉니다.]]></description><link>https://kyunghoon.me</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 25 Jul 2022 11:18:42 GMT</lastBuildDate><item><title><![CDATA[[GraphQL] - 1)Rest API와 비교]]></title><description><![CDATA[GraphQL이란 GraphQL은 페이스북에서 만든 API를 위한 쿼리 언어이다. 라고 되어있기 때문에 QL은 이해가 가지만 왜 Graph라고 붙였을까, 라고 공홈을 살펴보면 다음과 같은 문구가 있다. GraphQL…]]></description><link>https://kyunghoon.me/graphql/graphql-start/</link><guid isPermaLink="false">https://kyunghoon.me/graphql/graphql-start/</guid><pubDate>Mon, 25 Jul 2022 22:15:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;graphql이란&quot;&gt;&lt;a href=&quot;#graphql%EC%9D%B4%EB%9E%80&quot; aria-label=&quot;graphql이란 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GraphQL이란&lt;/h1&gt;
&lt;p&gt;GraphQL은 페이스북에서 만든 API를 위한 쿼리 언어이다. &lt;code class=&quot;language-text&quot;&gt;쿼리 언어&lt;/code&gt;라고 되어있기 때문에 QL은 이해가 가지만 왜 Graph라고 붙였을까, 라고 공홈을 살펴보면 다음과 같은 문구가 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GraphQL을 사용하면 비즈니스 도메인을 그래프로 모델링 할 수 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;GraphQL은 스키마를 정의하고, 스키마 내에서 서로 다른 타입의 데이터가 연관, 연결되는 방식을 함께 정의할 수 있다. API에 있는 데이터를 보다 더 직관적이고 쉽게 표현할 수 있다는 것이다. GraphQL은 인터페이스만 정의하기 때문에, 어느 한 백엔드/DB에 의존하지 않고 자유롭게 사용이 가능하다.&lt;/p&gt;
&lt;h2 id=&quot;rest-api와의-비교&quot;&gt;&lt;a href=&quot;#rest-api%EC%99%80%EC%9D%98-%EB%B9%84%EA%B5%90&quot; aria-label=&quot;rest api와의 비교 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rest API와의 비교&lt;/h2&gt;
&lt;h3 id=&quot;하나의-endpoint&quot;&gt;&lt;a href=&quot;#%ED%95%98%EB%82%98%EC%9D%98-endpoint&quot; aria-label=&quot;하나의 endpoint permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;하나의 Endpoint&lt;/h3&gt;
&lt;p&gt;많은 백엔드/프론트엔드 개발자들은 Rest API로 데이터를 주고받는 형태에 익숙할 것이다. 하지만 유지보수적 관점에서 보았을 때 서버의 덩치가 점점 커지고, 기능이 추가될 때 마다 다음과 같은 문제에 당면하게 된다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1)한 기능을 위해 여러 종류의 API가 호출 된다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모듈화가 잘 되어 있더라도 특정 기능을 위해 여러 API를 여러 Endpoint에서 호출해야 할 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;2)그렇지 않기 위해 Fit한 API를 만들려면 또 새롭게 개발해야 한다&lt;/li&gt;
&lt;li&gt;3)따라서 유지보수가 어렵다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;하지만 GraphQL의 가장 큰 특징 중 하나는 Endpoint가 하나라는 것이다. GraphQL은 하나의 Endpoint만 제공하며, 단 한번의 요청으로 원하는 것을 모두 가져올 수 있게끔 한다. API나 View를 따로 신경쓰며 개발할 필요가 없다.&lt;br&gt;
그리고 GraphQL은 모든 스키마를 그래프처럼 연결하기 때문에 이 데이터간의 참조를 자연스럽게 받아들인다. Rest API 형태였다면 여러 서버에서 불러와 가공하거나, 타입을 매칭시켜줘야 할 수 있겠지만 GraphQL은 그렇지 않다.&lt;/p&gt;
&lt;h3 id=&quot;fit-request&quot;&gt;&lt;a href=&quot;#fit-request&quot; aria-label=&quot;fit request permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fit Request&lt;/h3&gt;
&lt;p&gt;GraphQL은 한번의 요청으로 원하는 부분만 가져오기 때문에, 불필요한 데이터까지 가져오는 &lt;code class=&quot;language-text&quot;&gt;Overfetching&lt;/code&gt;이 발생하지 않는다. 반대로 Rest API 형태였다면 다양한 데이터를 여러 곳에서 참조해야 하기 때문에 여러번 API를 호출하는 &lt;code class=&quot;language-text&quot;&gt;Underfetching&lt;/code&gt;도 발생하지 않는다. 모든 요청을 Query, Mutation 등의 형태로 정의하여 가져오기 때문이다. 클라이언트 측에서 서버가 아닌 데이터를 직접 제어하기 때문에, 항상 예측 가능한 결과를 가져올 수 있다.&lt;/p&gt;
&lt;h2 id=&quot;-레퍼런스&quot;&gt;&lt;a href=&quot;#-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot; 레퍼런스 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;📚 레퍼런스&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://graphql-kr.github.io/&quot;&gt;GraphQL 공식 홈페이지&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[짧생글] 코드의 가독성과 성능에 대한 생각]]></title><description><![CDATA[요즘들어 오픈소스를 하도 들여다보니 남이 보기 좋은 코드를 짜는 것이 개발자로써 플러스 요인이라는 걸 새삼 또 느끼게 된다. chart-js…]]></description><link>https://kyunghoon.me/free/코드의-성능과-가독성/</link><guid isPermaLink="false">https://kyunghoon.me/free/코드의-성능과-가독성/</guid><pubDate>Fri, 18 Jun 2021 21:33:00 GMT</pubDate><content:encoded>&lt;p&gt;요즘들어 오픈소스를 하도 들여다보니 남이 보기 좋은 코드를 짜는 것이 개발자로써 플러스 요인이라는 걸 새삼 또 느끼게 된다. &lt;s&gt;chart-js 레퍼런스 미웡&lt;/s&gt; 이력서에서 나를 어필할 때는 남들이 보기 좋은 코드를 짜고 싶다고 했지만, 어떤 게 정답인지 간혹 헷갈린다.&lt;/p&gt;
&lt;p&gt;코드 자체를 보기 좋게 짜는 것이랑, 성능이랑 비례하지 않는 경우가 내 경우에는 꽤나 발생하기 때문이다. 남들이 봐도 이해하기 쉽지만 여러 분기를 거치는 코드를 짤 것인가, 최대한 코드를 간결하게 짤 것인가에서 타협을 했어야만 했다.&lt;/p&gt;
&lt;h1 id=&quot;정답이-없는-것&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%8B%B5%EC%9D%B4-%EC%97%86%EB%8A%94-%EA%B2%83&quot; aria-label=&quot;정답이 없는 것 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정답이 없는 것&lt;/h1&gt;
&lt;p&gt;최근에 스터디용으로 들어간 오픈채팅방에서 꽤나 흥미진진한 토론이 일었다. 여러 개의 input에서 각기 다른 값을 받아와야 할 때 리액트의 onChange 함수를 어떻게 쓰는 게 더 좋은 코드일까요? 라는 질문에서 시작했다.
질문자님께서 비교하신 코드는 대충 재현해보면 다음과 같았다.&lt;/p&gt;
&lt;h3 id=&quot;1번&quot;&gt;&lt;a href=&quot;#1%EB%B2%88&quot; aria-label=&quot;1번 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1번&lt;/h3&gt;
&lt;p&gt;onChange 이벤트를 input의 개수마다 만든다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;onChange&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setEmail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
onChange&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setPassword&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;직관적이지만 확장성이 부족하다고 생각했다. 요즘 뭔가 코드를 짤 때 마다 유지보수할 때를 떠올리는 좋은 건지 모를 습관이 생겼는데, 나중에 입력받아야 하는 양이 늘어나면 계속해서 useState를 늘려줘야 한다.&lt;/p&gt;
&lt;h3 id=&quot;2번&quot;&gt;&lt;a href=&quot;#2%EB%B2%88&quot; aria-label=&quot;2번 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2번&lt;/h3&gt;
&lt;p&gt;입력값의 분기를 두고 state를 객체로 받는다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onChangeInput&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; email&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; value &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; password&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; value &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;상태관리를 한번에 할 수는 있지만 역시나 입력받는 것의 갯수에 따라 조건문이 늘어날 것이다. 그래도 보기는 좋은 것 같다.&lt;/p&gt;
&lt;h3 id=&quot;3번&quot;&gt;&lt;a href=&quot;#3%EB%B2%88&quot; aria-label=&quot;3번 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3번&lt;/h3&gt;
&lt;p&gt;id에 따라 객체의 property에 바로 할당한다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onChangeInput&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; prev&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;사실 내가 제일 자주 쓰는 방법이다. 이러면 input이 아무리 많아도 property에 따라 id만 잘 설정해주면 무한으로 재활용이 가능하다.&lt;/p&gt;
&lt;h3 id=&quot;그냥-라이브러리를-쓰자&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%83%A5-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC%EB%A5%BC-%EC%93%B0%EC%9E%90&quot; aria-label=&quot;그냥 라이브러리를 쓰자 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그냥 라이브러리를 쓰자&lt;/h3&gt;
&lt;p&gt;hook-form, formlik 등. 이미 이 고민을 나보다 먼저 한 사람들이 만들어 놓은 걸 가져다 쓴다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;사실 나는 당연히 3번째 코드가 가장 좋은 코드라고 생각했다. 코드가 짧으면서, 자바(타입)스크립트의 객체도 잘 활용했으니깐. 그렇지만 다른 방법이 더 좋은 것 같다고 생각하는 여러 의견들을 들어보니 다 그럴 듯 했다.&lt;/p&gt;
&lt;p&gt;라이브러리를 사용하면 그 라이브러리에 대해 잘 모르는 사람은 레퍼런스를 뒤져봐야 하고, 3번의 방법은 오히려 state가 어떻게 정의되어있는지 숙지가 잘 되어있지 않는 다른 사람이 본다면 오히려 이해하기 힘들 거라는 의견도 있었다. 다 어찌보면 맞는 말이기도 하다. 코딩에는 여러개의 정답이 정해져 있어 골라쓰면 된다는 말이기도 하니깐.&lt;/p&gt;
&lt;p&gt;결국 논점은 코드의 길이냐, 가독성이냐의 문제로 귀결되었다. 혼자 하는 사이드 프로젝트라면 코드의 가독성이고 뭐고 성능만 챙기면 될 수도 있다. (포트폴리오로 공유할 게 아니라면) 반면 수백 명이 보는 코드라면 메모리든, 시간을 더 써서라도 최대한 보기 좋게 짜는 것이 최선일 것이다. 최근에 진행했던 알고리즘 스터디에서도 호출을 한줄에 계속 하면서 가독성 대신 성능을 챙겨도 결국 너무 이해하기 힘든 코드가 되면 안된다는 결론을 내렸으니깐… 결국에는 어느 상황에서 어떤 방법이 적절한 지 판단할 수 있는 근력을 기르는 것이고, 그러려면 결국 남의 코드를 많이 보는 방법뿐인 것 같다 😅&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;같은 문제에 대해 다양한 개발자들과 의견을 나눠보는 것은 언제나 도움이 되는 것 같다. 결국 이번 포스팅의 결론도, 앞으로 더 노력하자가 된 것 같다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Gatsby + Netlify] 배포 시에 Not Found Error 해결하기]]></title><description><![CDATA[Netlify는 웹 애플리케이션이나 정적 웹 사이트 호스팅을 손쉽게 할 수 있도록 도와주는 서비스이다. 특히 Git Repository와 연동하면 지정한 branch로 push…]]></description><link>https://kyunghoon.me/blog/netlify-deploy-error/</link><guid isPermaLink="false">https://kyunghoon.me/blog/netlify-deploy-error/</guid><pubDate>Wed, 02 Jun 2021 21:33:00 GMT</pubDate><content:encoded>&lt;p&gt;Netlify는 &lt;em&gt;웹 애플리케이션이나 정적 웹 사이트 호스팅을 손쉽게 할 수 있도록 도와주는 서비스&lt;/em&gt;이다. 특히 Git Repository와 연동하면 지정한 branch로 push할 때 마다 자동으로 배포해주는 등 간단하면서도 강력한 기능을 제공한다. Gatsby와의 궁합도 아주 괜찮기 때문에 Gatsby + Netlify 조합은 많이들 사용하고 있다.&lt;/p&gt;
&lt;p&gt;Gatsby Command로 로컬 환경에서 Dev, Production 둘 다 테스트가 가능하다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt; : 프로젝트를 development server에서 시작한다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby serve&lt;/code&gt; : production build 세팅으로 사이트를 게시한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;하지만 최근에 아주 황당한 문제와 맞닥뜨리게 되었다. 로컬에서는 develop, serve 해도 이상이 없는데 Netlify를 통해 배포를 하면 Not found가 뜨는 것이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;page resources &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt; not found&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; Not rendering React&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;정적 파일을 호스팅하고 있기 때문에 ’/‘를 못찾는다는 것은 build된 index.html을 불러오지 못하는 것으로 예상이 되었다. 그러면 뭔가 배포 단계에서 문제가 있었다는 것인데.. 그래서 배포 로그를 살펴보았다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Netlify는 기본적으로 배포 과정 로그를 살펴볼 수 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/27f011ee1bf1302d48d8fdad83ed293e/11fc9/log.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABnElEQVQoz52SXU8TQRSG91YN8UZCCo0WKrS1QFtiaVVEf5o3XuiFMfG/aPwVeqto0mIidGc/ZHe23c7s7GNmqFGMhoSTPDmTczLvnI/x8qLgR5IQRjFnSYIxJWV5NVRR4M20JklTojgmiCKXuKopY/CmWpNKiS8C/CB04nOl0FqjLEqji4LCmEuZ/6owzTJXnQgj/CAgSSUym5LKzD2Wz+dO9DJyrReCUiLCkIkQTnCW5xdasWMw/5iZMeacP2doWz5LUyYi4NQXTjSMYxIpXaVW3I4g/wsbK22rWruzZaYUnt2ytv1rfbGqBf8zm5tkktQKA8YupSzxpkrxdTTm09EXJr5ABKFbkPNB8Btx7m3cfrETIXjx/i3vPn7g9PsJo+NvxEmCdzQ+prl/wJ2d+7QfPKHRP6A1eMzdvSH13pBap896d596b8BGd8Bqq8vyZpuVrW3Wmh0qjV0Xu1ap8fz1G7zPozHV9h4rWztsP3xKa3DIveEhjf4jart9qu0eFXux2WG11WGpWufG2obj+sLfvL2Jt3SLZy9f8RPG/a/+KWUErwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;log.png&quot;
        title=&quot;log.png&quot;
        src=&quot;/static/27f011ee1bf1302d48d8fdad83ed293e/c1b63/log.png&quot;
        srcset=&quot;/static/27f011ee1bf1302d48d8fdad83ed293e/5a46d/log.png 300w,
/static/27f011ee1bf1302d48d8fdad83ed293e/0a47e/log.png 600w,
/static/27f011ee1bf1302d48d8fdad83ed293e/c1b63/log.png 1200w,
/static/27f011ee1bf1302d48d8fdad83ed293e/d61c2/log.png 1800w,
/static/27f011ee1bf1302d48d8fdad83ed293e/97a96/log.png 2400w,
/static/27f011ee1bf1302d48d8fdad83ed293e/11fc9/log.png 2590w&quot;
        sizes=&quot;(max-width: 1200px) 100vw, 1200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;패키지 버전 싱크가 맞지않는 WARN 문구는 있었으나, 특별한 error 없이 배포가 완료되었다고 나온다. 더 당황스러운 부분은 캐시를 날리고 강제 새로고침하면 원래 페이지가 제대로 나온다는 점이었다. 구글링보니 bleepcoder gatsby 쪽에 PR을 남긴 글이 있어 이부분을 통해 확인해보기로 하였다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;-오류-원인이-참-다양하다&quot;&gt;&lt;a href=&quot;#-%EC%98%A4%EB%A5%98-%EC%9B%90%EC%9D%B8%EC%9D%B4-%EC%B0%B8-%EB%8B%A4%EC%96%91%ED%95%98%EB%8B%A4&quot; aria-label=&quot; 오류 원인이 참 다양하다 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;😭 오류 원인이 참 다양하다..&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://bleepcoder.com/ko/gatsby/524949018/error-page-resources-for-not-found-not-rendering-react&quot;&gt;https://bleepcoder.com/ko/gatsby/524949018/error-page-resources-for-not-found-not-rendering-react&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;다음 링크를 참조하였다. 코멘트가 참 많다.. 같은 현상인데 아주 다양한 방법으로 해결했다는 점을 알 수 있다. 그만큼 원인도 가지각색이며 내가 왜 안되는 건지 특정할 수가 없었다. 별 수 있나.. 이것저것 다 해보는 수 밖에..&lt;/p&gt;
&lt;p&gt;그래도 많은 사람들이 해결한 방식을 한번 정리해보았다.&lt;/p&gt;
&lt;h3 id=&quot;netlify-deploy-settings-살펴보기&quot;&gt;&lt;a href=&quot;#netlify-deploy-settings-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;netlify deploy settings 살펴보기 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Netlify Deploy Settings 살펴보기&lt;/h3&gt;
&lt;p&gt;Netlify의 Deploy 세팅을 들어가보자. &lt;a href=&quot;https://app.netlify.com/sites/%7B%EB%82%B4%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%9D%B4%EB%A6%84%7D/settings/deploys&quot;&gt;https://app.netlify.com/sites/{내사이트이름}/settings/deploys&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/05f68602731b038bbbffcbeea6354d6f/95fa1/settings.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4ElEQVQoz42R2Y7DIAxF+f/PnOkStiYQCITtVlhkXhqlY+kIhIx9MCykBLdt8CFgixGlNZRakS8oF7DVe/z83oj74wmK1vA1es4JLJWCECPaKNIot2FdHRZjMC+G1gNjLUopo+ZnY2a74e0OIRX2lEg75YwnF9CvGTMVXWjV84zF2L+8XMoHzG0BSr8glMYWAnXNOUNqjUlIunyYH1HHvOrZDF0I4FKCS4XVOUrqRSYu4Lw/tbiCDPvlbqi0Rh2/3J/MhaSndus6jL7BrPNkGPed6PPrho+Jw9iV9v3sv7wBQ2FxVKjajh4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;settings.png&quot;
        title=&quot;settings.png&quot;
        src=&quot;/static/05f68602731b038bbbffcbeea6354d6f/c1b63/settings.png&quot;
        srcset=&quot;/static/05f68602731b038bbbffcbeea6354d6f/5a46d/settings.png 300w,
/static/05f68602731b038bbbffcbeea6354d6f/0a47e/settings.png 600w,
/static/05f68602731b038bbbffcbeea6354d6f/c1b63/settings.png 1200w,
/static/05f68602731b038bbbffcbeea6354d6f/d61c2/settings.png 1800w,
/static/05f68602731b038bbbffcbeea6354d6f/95fa1/settings.png 1816w&quot;
        sizes=&quot;(max-width: 1200px) 100vw, 1200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;내가 사용하는 gatsby-starter는 &lt;code class=&quot;language-text&quot;&gt;gatsby build&lt;/code&gt;를 실행하면 public으로 정적 파일을 모으기 때문에 Publish directory가 public으로 되어 있다. Base directory와 Publish directory를 잘 확인하여 정적 파일의 index.html을 가리킬 수 있도록 설정되어 있는지 확인해보아야 한다.&lt;/p&gt;
&lt;h3 id=&quot;패키지-문제는-없는지-확인해보기&quot;&gt;&lt;a href=&quot;#%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%AC%B8%EC%A0%9C%EB%8A%94-%EC%97%86%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;패키지 문제는 없는지 확인해보기 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;패키지 문제는 없는지 확인해보기&lt;/h3&gt;
&lt;p&gt;나 같은 경우는 &lt;code class=&quot;language-text&quot;&gt;npm audit fix&lt;/code&gt;를 통해 dependency의 취약점을 고치는 것은 효과가 없었다. (하지만 코멘트 중에 이 방법을 통해 해결했다는 사람이 있긴 하다).&lt;br&gt;
오히려 &lt;code class=&quot;language-text&quot;&gt;gatsby&lt;/code&gt; 버전을 강제로 3v로 마이그레이션되서 다시 통째로 커밋을 되돌려야 했다. &lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;을 돌려보면 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;으로 부터 패키지를 받아오면서 문제가 없는지 확인한다. 이때 패키지간 버전이 많지 않거나 지원하지 않으면 WARNING이 뜬다. 이 문제를 해결한 사람 중 종속성 문제로 패키지를 다 uninstall 했다가 하나하나 install 해보면서 고쳤다는 코멘트가 있다.&lt;/p&gt;
&lt;p&gt;나는 Gatsby starter를 통해 최초 세팅을 하였기 때문에 내가 직접 추가한 패키지에 관해서만 종속성 테스트를 해보았다. 특히 타입스크립트를 쓰고 있다면 npm 버전 불일치 문제가 발생하기 더 쉬울 수 있으니 확인이 필요하다고 한다.&lt;/p&gt;
&lt;p&gt;이래도 특정하기 힘들다면 그냥 gatsby에서 많이 사용하는 package 버전 조합을 그대로 사용해보는 것도 나쁘지 않을 것 같다.&lt;/p&gt;
&lt;h3 id=&quot;캐시를-초기화하고-다시-배포해보기&quot;&gt;&lt;a href=&quot;#%EC%BA%90%EC%8B%9C%EB%A5%BC-%EC%B4%88%EA%B8%B0%ED%99%94%ED%95%98%EA%B3%A0-%EB%8B%A4%EC%8B%9C-%EB%B0%B0%ED%8F%AC%ED%95%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;캐시를 초기화하고 다시 배포해보기 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;캐시를 초기화하고 다시 배포해보기&lt;/h3&gt;
&lt;p&gt;Netlify는 Deploy trigger로 캐시를 초기화 후 배포하도록 해 준다. Netlify가 캐시를 어떻게 관리하는지는 공식 문서를 참조해보았다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9e54e1e89b044c495862cb7d77ccfbd0/985a9/trigger.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABSklEQVQ4y6WSy0oDMRSG496FIiLuXfmg0qVWdCP4OLpz04oUp51WxMtc2kwyM839l4R2LCJ2agMfIeHw5eScQwDAWus3vL694/DkFGT3ADv7xyB7R5vjZc65IGS8xMXNLc7OL9HpXqPTvdoYorQOsqV020UoLZqDdQ5ciK0gZVUHkbEW2hjUWv+LuTEBop2DNAZqibW/Y0yIC7HOwRfKI50Nd40QbWq3EiOsxUMU4a7Xw32/j8fJBNN5DbH4HfHNWIdfUkrMKMWMcaScI2UMCSuQlyUqpUJ2QbgmtUaYZhn6TwOM4jGSJA2kWQ7OONSihq0yXA59lucYxmPEkxc8D0cYRENEoxgfnwmElN9CqRTaoI0Ok+Af4FWFgnHMigJlXUMo1XSa+MA/0TqMk9/VCv4RpXRz3wjbNOVng3hZghYFppRCCBGyni+EX56WufsJH0MDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;trigger.png&quot;
        title=&quot;trigger.png&quot;
        src=&quot;/static/9e54e1e89b044c495862cb7d77ccfbd0/c1b63/trigger.png&quot;
        srcset=&quot;/static/9e54e1e89b044c495862cb7d77ccfbd0/5a46d/trigger.png 300w,
/static/9e54e1e89b044c495862cb7d77ccfbd0/0a47e/trigger.png 600w,
/static/9e54e1e89b044c495862cb7d77ccfbd0/c1b63/trigger.png 1200w,
/static/9e54e1e89b044c495862cb7d77ccfbd0/985a9/trigger.png 1512w&quot;
        sizes=&quot;(max-width: 1200px) 100vw, 1200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 다시 수동으로 배포를 해 볼 수 있다. 이렇게도 해결이 안된다면 프로젝트 내에서 &lt;code class=&quot;language-text&quot;&gt;gatsby clean&lt;/code&gt;명령어를 사용해 보는 방법도 있다. .cache 폴더와 공용 디렉토리를 지운다고 되어있는데 이 명령어를 사용하면 오래된 데이터나 종속성 문제, 플러그인 문제를 어느정도는 해결해 준다. 그다음에 다시 build -&gt; serve를 해서 확인해볼 수 있다.&lt;/p&gt;
&lt;h3 id=&quot;sensitive-variable-policy-건드리기&quot;&gt;&lt;a href=&quot;#sensitive-variable-policy-%EA%B1%B4%EB%93%9C%EB%A6%AC%EA%B8%B0&quot; aria-label=&quot;sensitive variable policy 건드리기 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sensitive variable policy 건드리기&lt;/h3&gt;
&lt;p&gt;Netlify의 deploy -&gt; Environment를 들어가보면 환경 변수 액세스를 관리할 수 있다. Netlify가 앱 내에서 작동하도록 한 환경 변수를 무시하거나, 쓸데없이 참조해서 에러가 발생하는 경우가 있다고 한다. 기본 값 &lt;code class=&quot;language-text&quot;&gt;Require approval&lt;/code&gt;은 모든 배포 요청은 승인을 거치도록 한다. 하지만 이를 &lt;code class=&quot;language-text&quot;&gt;Deploy without restirictions&lt;/code&gt;로 변경하면 모든 사용 가능한 환경 변수를 사용하여 빌드된다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;나는 마지막 방법까지 도달해서야 문제를 해결할 수 있었다 ㅠ ㅠ 장장 몇 시간에 걸쳐서야 겨우 해결할 수 있었는데 공식 문서를 꼼꼼이 살펴보고 해결하는 근력을 기른 것 같아 기분은 나쁘지 않다. 이 문제로 고생하는 사람들이 있다면 이 글을 통해 해결할 수 있기를 바란다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Typescript] 타입 검사]]></title><description><![CDATA[✔ 점진적 타입 검사 언어에 따라 수행하는 타입 검사의 종류는 와 로 나뉜다. 정적 타입 검사 언어는 C, C++, Java…]]></description><link>https://kyunghoon.me/typescript/gradually-type-checking/</link><guid isPermaLink="false">https://kyunghoon.me/typescript/gradually-type-checking/</guid><pubDate>Mon, 03 May 2021 21:33:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;-점진적-타입-검사&quot;&gt;&lt;a href=&quot;#-%EC%A0%90%EC%A7%84%EC%A0%81-%ED%83%80%EC%9E%85-%EA%B2%80%EC%82%AC&quot; aria-label=&quot; 점진적 타입 검사 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;✔ 점진적 타입 검사&lt;/h1&gt;
&lt;p&gt;언어에 따라 수행하는 타입 검사의 종류는 &lt;code class=&quot;language-text&quot;&gt;정적 타입 검사&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;동적 타입 검사&lt;/code&gt;로 나뉜다. 정적 타입 검사 언어는 C, C++, Java 등 변수를 만들 때 자료형을 지정해줘야 하고 그 자료형은 고정되는 특징이 있다.&lt;br&gt;
동적 타입 검사 언어는 실행 시간에 타입 검사를 수행하며 대표적으로 자바스크립트가 있다.&lt;/p&gt;
&lt;p&gt;타입스크립트는 정적 타입 언어처럼 보일 수 있지만 정확히는 &lt;code class=&quot;language-text&quot;&gt;점진적 타입 검사&lt;/code&gt;를 수행하는 언어이다. 이게 무슨 뜻일까 찾아보니, 타입스크립트의 설계자 아네르스 하일스베르는 MS Build 2017 발표에서 다음과 같이 말했다고 한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;자바스크립트에 타입시스템이 없는 것은 아닙니다. 단지 타입시스템을 공식화한 방법이 없는 것 뿐입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이 말에 따르면 &lt;code class=&quot;language-text&quot;&gt;자바스크립트에는 타입이 없어요&lt;/code&gt;라는 말은 부적절하다. 타입이 존재하지만 활용할 방법이 없는 것이다. 그러한 배경에서 타입스크립트가 탄생했다고 볼 수 있다.&lt;/p&gt;
&lt;p&gt;점진적 타입 검사는 컴파일 시간에 타입 검사를 수행하면서 필요에 따라 타입 선언의 생략을 허용한다. 타입스크립트는 컴파일 시간에 타입 검사를 생략하면 암시적 형변환이 일어난다. 자체적으로 타입을 판단한다는 뜻이다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;다음 코드를 보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// return 11&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;매개변수에 타입을 선언하지 않았지만 타입스크립트 컴파일러가 a를 오류로 처리하지 않는다. 타입스크립트는 결국 컴파일되면서 자바스크립트로 변환되기 때문에 변환된 자바스크립트는 &lt;em&gt;암시적 형변환에 의하여 동적으로 타입이 생성&lt;/em&gt;되어 오류 없이 실행된다. C, Java와 같은 언어에서 자료형을 생략하고 변수를 선언하면 컴파일 단계에서부터 오류가 발생하는 것과 비교해보면 확연한 차이가 있다.&lt;/p&gt;
&lt;p&gt;타입스크립트의 any 타입은 점진적 타입 검사를 설명할 때 가장 적절하다. any는 모든 타입의 최상위 타입이며 동적 타입과 정적 타입의 경계선에 있다. any는 어떤 타입의 변수도 받아들이면서 심지어는 타입이 없는 변수도 받아들이기 때문에 자바스크립트 코드에서 타입스크립트로 마이그레이션할때 점진적으로 사용할 수 있다. &lt;s&gt;물론 Anyscript가 되지 않도록 해야겠지만&lt;/s&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;-그렇다면-자바스크립트의-타입과-아예-차이가-없을까&quot;&gt;&lt;a href=&quot;#-%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%ED%83%80%EC%9E%85%EA%B3%BC-%EC%95%84%EC%98%88-%EC%B0%A8%EC%9D%B4%EA%B0%80-%EC%97%86%EC%9D%84%EA%B9%8C&quot; aria-label=&quot; 그렇다면 자바스크립트의 타입과 아예 차이가 없을까 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;🧐 그렇다면 자바스크립트의 타입과 아예 차이가 없을까?&lt;/h1&gt;
&lt;p&gt;자바스크립트는 동적 타입 검사(동적 타이핑)을 통해 타입을 추론한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; v &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// number&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; v &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// string&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; v &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// boolean&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이처럼 값을 변수에 할당할 때 타입이 정해지는 것을 동적 타이핑이라고 한다. 타입을 따로 표시하지 않으면 컴파일 단계에서 암시적 형변환이 일어나는 타입스크립트와 달리 자바스크립트는 타입을 강제할 수가 없고 값을 할당할 때 타입이 추론된다. 이처럼 타입 추론 방식이 아예 다르다. string으로 동적 타이핑이 되었다가 다시 bool 형태로 값이 초기화되어도 잡아내지 못한다는 뜻이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;-레퍼런스&quot;&gt;&lt;a href=&quot;#-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot; 레퍼런스 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;📚 레퍼런스&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://webactually.com/2021/02/23/%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%97%90%EC%84%9C-%EB%8F%99%EC%A0%81%C2%B7%EC%A0%95%EC%A0%81-%ED%83%80%EC%9E%85-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/&quot;&gt;타입스크립트에서 동적/정적 타입 사용하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;(루비페이퍼) Typescript 퀵스타트&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[[React] react-helmet 알아보기 ]]></title><description><![CDATA[개요 리액트는 기본적으로 클라이언트 사이드 렌더링 방식을 사용한다. Single Page Application…]]></description><link>https://kyunghoon.me/react/react-helmet/</link><guid isPermaLink="false">https://kyunghoon.me/react/react-helmet/</guid><pubDate>Mon, 26 Apr 2021 22:15:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;개요&quot;&gt;&lt;a href=&quot;#%EA%B0%9C%EC%9A%94&quot; aria-label=&quot;개요 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;개요&lt;/h1&gt;
&lt;p&gt;리액트는 기본적으로 클라이언트 사이드 렌더링 방식을 사용한다. Single Page Application이기 때문에 &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt;를 먼저 불러온 뒤 사용자에 행동에 따라 필요한 내용만 다시 읽어들인다.
최초에 많은 내용을 로드하고 넘어가기 때문에, 이후 사용자 인터렉션에서 빠르지만 최초 로딩 속도가 보다 길다. SPA가 대세가 되었기 때문에, &lt;em&gt;인터렉션에서 우위를 점할 수 있는&lt;/em&gt; 리액트가 큰 인기를 끈 이유이기도 하다.&lt;/p&gt;
&lt;p&gt;(요즘 리액트로 빌드된 사이트를 여럿 살펴보면 App의 스플래쉬처럼 사이트 로딩이 길어 인터렉션으로 대응하는 모습을 볼 수 있다.)&lt;/p&gt;
&lt;p&gt;이러한 클라이언트 사이드 렌더링에는 단점이 있다. 서버에서 페이지를 미리 띄워놓는 것이 아니라 사이트에 로딩하면 클라이언트가 자바스크립트를 통해 컴포넌트들을 불러오는 방식이기 때문에 크롬에서 React로 만든 웹앱의 소스를 확인하면 내용이 비어있다.
그렇기 때문에 검색엔진 크롤러가 데이터들을 제대로 수집하지 못한다. 브라우저에 따라 자바스크립트 엔진이 작동하기도 하지만, 모든 브라우저가 그런 것은 아니기에 대응을 해주어야 한다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;이 뜻은 꽤나 큰 의미를 담고있다. 검색 엔진 최적화에 활용되는 head의 meta 태그들이 의미가 없어진다는 뜻이다. 검색 엔진들은 meta 태그, title, description 등 사이트에 대해 설명하는 내용을 통해 사이트의 성질과 어떤 컨텐츠를 담고 있는지 유추하여, 검색 알고리즘에 적용한다. 키워드, 연관되는 컨텐츠 등으로 사이트를 노출시키기 위해 검색 엔진 최적화는 필수이며 그렇기 때문에 title, description 등의 메타 데이터들을 잘 작성해 주어야 한다. 실제로 검색 엔진 최적화를 도와주는 Tool인 구글 서치 콘솔이나 네이버 서치어드바이저를 참고하면&lt;/p&gt;
&lt;p&gt;실제로 &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;next.js&lt;/code&gt; 등 리액트에서 서버 사이드 렌더링을 지원할 수 있도록 도와주는 것을 사용하지 않으면 메타 데이터를 적용할 수 없다. &lt;code class=&quot;language-text&quot;&gt;next.js&lt;/code&gt;도 많이 사용되지만, 이번 포스팅에서는 react-helmet에 대해 알아보도록 하겠다. 현재 사용중인 &lt;code class=&quot;language-text&quot;&gt;Gatsby&lt;/code&gt;에서도 &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt;을 확장한 플러그인을 사용하기 때문이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;gatsby에서는-어떻게-사용할까&quot;&gt;&lt;a href=&quot;#gatsby%EC%97%90%EC%84%9C%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C&quot; aria-label=&quot;gatsby에서는 어떻게 사용할까 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gatsby에서는 어떻게 사용할까?&lt;/h1&gt;
&lt;p&gt;실제로 &lt;code class=&quot;language-text&quot;&gt;Gatsby&lt;/code&gt;에서는 어떻게 사용중인지 알아보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;SEO&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; description&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lang&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; meta&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; title &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; site &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useStaticQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
      ...
    &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; metaDescription &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; description &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; defaultTitle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Helmet
      htmlAttributes&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        lang&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      title&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      titleTemplate&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;defaultTitle &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;%s | &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;defaultTitle&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      meta&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; metaDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;og:title&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;og:description&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; metaDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;og:type&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;website&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;twitter:card&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;twitter:creator&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; site&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;siteMetadata&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;social&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;twitter &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;twitter:title&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;twitter:description&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; metaDescription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;meta&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;SEO&lt;/code&gt;라는 컴포넌트를 정의한다. 이 컴포넌트는 props로 title, description 등의 메타 데이터를 받아온다. 그리고 Helmet에서 받아온 props를 바탕으로 meta 데이터를 객체화한다. 여기서 사용되는 &lt;code class=&quot;language-text&quot;&gt;og:title&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;og:description&lt;/code&gt;… 등은 타 플랫폼에 임베드될때 나타나는 이미지, 제목, 설명이며 twitter, facebook, instagram 등 social meta태그도 모두 지원한다. &lt;code class=&quot;language-text&quot;&gt;Gatsby&lt;/code&gt;에서는 GraphQL을 통해 사이트 메타데이터를 불러올 수 있기 때문에 StaticQuery를 사용하여 페이지 로드 시에 불러온 다음에, meta 데이터로 알아서 넣어주고 있다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 618px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/69e5de2e7abb54df5f6800d0a9fb86d8/6e6fb/embed.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEklEQVQoz32OTU8TURSGh4VrE/dGoILoxrgwQcG/4N/wT7jSP2CIK4OsXbjQGEz4qF8RiEhtZ6Yzc6ftDJ1Oh9Zh2k5LPyABHzO3CA1RT/LkPee85765ymftO6q1hCZeSnSxiH7Wj85LI/PiyO3QTzI29I8omrXAfuEyrnEd10hh6zM4RgrXmJQI7Sal/BSeeU3uhXaLgn7j1Bv2xfwMXXeMcvERii4WULN3WN98iG9NULEmKZspqmJcqmel8MwUgbhKxZqgbE7hGNP41rj0kpuyOc2BewlhP0l++Jymc4V6cRwCBfb+wf+8vTGplniKYhaecZBXaGmnj6r/wf8Lf7xAwbYfo2TMV1TNu3jGHA13lijBmaVVvk/szY0wL2lXHpxpuzJPw71H5M4R794mZ75AWc3tsqLWWFVrrOTqLGf2+Cqa1JsnVOoDquGRxKv1JY7fkVryO+wGXeI+tHrQHoBajlDSaoG0apNWBWsZnZWMwQ/Hp9UMEZZOXstStE2ppqFh6DnUXAYjn0OYOnErAo5Jyq7+RFlXiyR80Eqs7RisZgvslAIODweEYUij0SCKIuI4JooaRI0hrTim3elQq9XpDwYy0PJPA9Oaw/I3nTdfdnj9aZtN0+XXyTG97gH9XpdBv09X9j3ZHx0OAy6WHYTnge+387zbUnm7kSWdFdjBPqIaXuB8l/zG8s81ud8SHr8BCmTRjGikpO0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;embed.png&quot;
        title=&quot;embed.png&quot;
        src=&quot;/static/69e5de2e7abb54df5f6800d0a9fb86d8/6e6fb/embed.png&quot;
        srcset=&quot;/static/69e5de2e7abb54df5f6800d0a9fb86d8/5a46d/embed.png 300w,
/static/69e5de2e7abb54df5f6800d0a9fb86d8/0a47e/embed.png 600w,
/static/69e5de2e7abb54df5f6800d0a9fb86d8/6e6fb/embed.png 618w&quot;
        sizes=&quot;(max-width: 618px) 100vw, 618px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;카카오톡에 링크를 올려보면 임베드가 잘 되고 있다.&lt;/p&gt;
&lt;p&gt;이 컴포넌트에서는 사용되지 않지만 &lt;code class=&quot;language-text&quot;&gt;published_date&lt;/code&gt;와 같이 블로그에서 꼭 필요한 메타 데이터도 적용이 가능하니 말 다한 셈이다. (Gatsby는 published_date는 frontmatter를 바탕으로 어찌어찌 알아서 넣는 듯 하다.)&lt;/p&gt;
&lt;p&gt;이렇게 객체 형태로 넘기기만 하면 &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt;이 알아서 서버 사이드 렌더링을 지원하여 title, description을 깔아준다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;그렇다면 &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt;의 동작원리는 무엇일까. 기존에 html에서 meta 데이터들을 깔아주었던 것과는 다르게, &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt;은 DOM API를 이용하여 직접 헤더를 변경하는 방식이다. 단순히 바닐라 자바스크립트에서 title, description의 값을 변경해주는 것과 유사하다. 하지만 역시 자바스크립트를 비활성화하면 헤더값이 설정되지 않는다. 하지만 &lt;code class=&quot;language-text&quot;&gt;Gatsby&lt;/code&gt;는 추가 플러그인을 통하여 정적파일 빌드시에 헤더값을 설정하는 미들웨어를 가지고 있다.&lt;/p&gt;
&lt;p&gt;예로 &lt;code class=&quot;language-text&quot;&gt;Gatsby&lt;/code&gt;가 아닌 리액트 프로젝트를 로컬 환경에서 실행하면 &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt;을 사용했어도 로컬에서는 localhost:3000 ,, 이런식으로 나타날 것이다. 하지만 &lt;code class=&quot;language-text&quot;&gt;Gatsby&lt;/code&gt;를 사용하여 &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt; 플러그인을 확장했다면 로컬에서도 title, description이 정상적으로 나타날 것이다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;-레퍼런스&quot;&gt;&lt;a href=&quot;#-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot; 레퍼런스 permalink&quot; class=&quot;anchor-header&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;📚 레퍼런스&lt;/h1&gt;
&lt;p&gt;react-helmet의 동작 원리&lt;br&gt;
&lt;a href=&quot;https://jeonghwan-kim.github.io/dev/2020/08/15/react-helmet.html&quot;&gt;https://jeonghwan-kim.github.io/dev/2020/08/15/react-helmet.html&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Typescript] 옵셔널 체이닝]]></title><description><![CDATA[Typescript에는 옵셔널 체이닝이라는 문법이 있다. null이나 undefined가 반환되면, 즉시 중단하고 undefined를 반환하는 문법이다. Javscript와 달리 Typescript는 컴파일 언어이기 때문에 undefined…]]></description><link>https://kyunghoon.me/typescript/optional-chaining/</link><guid isPermaLink="false">https://kyunghoon.me/typescript/optional-chaining/</guid><pubDate>Fri, 12 Feb 2021 19:15:00 GMT</pubDate><content:encoded>&lt;p&gt;Typescript에는 옵셔널 체이닝이라는 문법이 있다. &lt;strong&gt;null이나 undefined가 반환되면, 즉시 중단하고 undefined를 반환하는 문법&lt;/strong&gt;이다.&lt;/p&gt;
&lt;p&gt;Javscript와 달리 Typescript는 컴파일 언어이기 때문에 undefined로 예상되는 객체에서 메소드를 사용하거나 하는 경우 오류를 발생시킨다. Javscript에도 존재하는 문법이지만 실험적으로 존재하는 기능이고 Typescript에서는 3.7 릴리즈 버전으로 도입되었다.&lt;/p&gt;
&lt;p&gt;Swift나 Kotlin 같은 신세대(?) 언어에서도 널리 사용되고 있는 기능이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// API를 통해 데이터를 불러온다&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;데이터가 제대로 수신되었는지 확인하려면 원래는 다음과 같은 과정을 거친다. null or undefined 체크를 if문으로 해주고 데이터가 존재한다면 받아오는 방식이다. 옵셔널 체이닝을 사용하면 다음과 같이 변환이 가능하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; reponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;person&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;타입스크립트에서 이렇게 사용해주지 않는다면 null인 객체의 person, name property를 각각 참조하면서 컴파일 에러(TypeError)가 발생할 것이다. 하지만 옵셔널 체이닝을 사용한다면 data가 null or undefined을 확인한 순간 더 이상 진행하지 않고 undefined을 즉시 반환하여 일단 다음으로 넘어갈 수 있다.&lt;/p&gt;</content:encoded></item></channel></rss>